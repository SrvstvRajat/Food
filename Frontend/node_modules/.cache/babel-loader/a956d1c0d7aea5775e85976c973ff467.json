{"ast":null,"code":"import _slicedToArray from\"C:/Users/Rajat/Desktop/My Projects/Swato/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _regeneratorRuntime from\"C:/Users/Rajat/Desktop/My Projects/Swato/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/Rajat/Desktop/My Projects/Swato/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React,{useState,useEffect,useContext}from'react';import'../Styles/profile.css';import{useAuth}from'../Context/AuthProvider';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Profile(){var _useAuth=useAuth(),user=_useAuth.user;// const [user,setUser] = useState(JSON.parse(localStorage.getItem(\"user\")).data);\nuseEffect(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:// let users=localStorage.getItem(\"user\")\n// setUser(JSON.parse(users));\n// console.log(users);\n// setUser();\nconsole.log(user);nameSet(user.name);passwordSet(user.password);emailSet(user.email);passwordCnfSet(user.password);console.log(\"abcd\",user);case 6:case\"end\":return _context.stop();}}},_callee);})),[]);// console.log(\"typeof user is \",(user));\nvar _useState=useState(),_useState2=_slicedToArray(_useState,2),password=_useState2[0],passwordSet=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),passwordCnf=_useState4[0],passwordCnfSet=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),email=_useState6[0],emailSet=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),name=_useState8[0],nameSet=_useState8[1];var nameEdit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.patch('/user/login');case 2:case\"end\":return _context2.stop();}}},_callee2);}));return function nameEdit(){return _ref2.apply(this,arguments);};}();var handleClick=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var _user$userDetails,_user$userDetails2,data;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;console.log(\"/user/\"+(user===null||user===void 0?void 0:(_user$userDetails=user.userDetails)===null||_user$userDetails===void 0?void 0:_user$userDetails._id));_context3.next=4;return axios.patch(\"/user/\"+(user===null||user===void 0?void 0:(_user$userDetails2=user.userDetails)===null||_user$userDetails2===void 0?void 0:_user$userDetails2._id),{email:email,name:name,password:password,confirmPassword:passwordCnf,role:user.role,_id:user._id});case 4:data=_context3.sent;console.log(data.data.data);localStorage.setItem(\"user\",JSON.stringify(data.data.data));_context3.next=12;break;case 9:_context3.prev=9;_context3.t0=_context3[\"catch\"](0);console.log(_context3.t0);case 12:case\"end\":return _context3.stop();}}},_callee3,null,[[0,9]]);}));return function handleClick(){return _ref3.apply(this,arguments);};}();console.log(user);return/*#__PURE__*/_jsx(\"div\",{className:\"container-grey\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"h1Box\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"h1\",children:\"Profile\"}),/*#__PURE__*/_jsx(\"div\",{className:\"line\"}),/*#__PURE__*/_jsx(\"div\",{className:\"profileImage\",children:/*#__PURE__*/_jsx(\"img\",{src:user===null||user===void 0?void 0:user.profileImage})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"loginBox\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"entryBox\",children:/*#__PURE__*/_jsx(\"input\",{type:\"file\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"entryBox\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"entryText\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{className:\"email input\",type:\"email\",value:email,onChange:function onChange(e){return emailSet(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"entryBox\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"entryText\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{className:\"password input\",type:\"text\",value:password,onChange:function onChange(e){return passwordSet(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"entryBox\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"entryText\",children:\"Confirm Password\"}),/*#__PURE__*/_jsx(\"input\",{className:\"password input\",type:\"text\",value:passwordCnf,onChange:function onChange(e){return passwordCnfSet(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"entryBox\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"entryText\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{className:\"password input\",type:\"text\",value:name,onChange:function onChange(e){return nameSet(e.target.value);}})]}),/*#__PURE__*/_jsx(\"button\",{className:\"loginBtn  form-button\",type:\"submit\",onClick:handleClick,children:\"Update Profile\"})]})]})});}export default Profile;","map":{"version":3,"names":["React","useState","useEffect","useContext","useAuth","axios","Profile","user","console","log","nameSet","name","passwordSet","password","emailSet","email","passwordCnfSet","passwordCnf","nameEdit","patch","handleClick","userDetails","_id","confirmPassword","role","data","localStorage","setItem","JSON","stringify","profileImage","e","target","value"],"sources":["C:/Users/Rajat/Desktop/My Projects/Swato/Frontend/src/Components/Profile Page/Profile.js"],"sourcesContent":["import React, { useState , useEffect,useContext} from 'react';\r\nimport '../Styles/profile.css';\r\nimport { useAuth } from '../Context/AuthProvider';\r\nimport axios from 'axios';\r\n\r\nfunction Profile() {\r\n\r\n    const { user } = useAuth();\r\n    // const [user,setUser] = useState(JSON.parse(localStorage.getItem(\"user\")).data);\r\n    useEffect(async ()=>{\r\n        // let users=localStorage.getItem(\"user\")\r\n        // setUser(JSON.parse(users));\r\n        // console.log(users);\r\n        // setUser();\r\n        console.log(user);\r\n        nameSet(user.name)\r\n        passwordSet(user.password)\r\n        emailSet(user.email)\r\n        passwordCnfSet(user.password)\r\n        console.log(\"abcd\",user)\r\n    },[]);\r\n    // console.log(\"typeof user is \",(user));\r\n    const [password, passwordSet] = useState()\r\n    const [passwordCnf, passwordCnfSet] = useState(\"\")\r\n    const [email, emailSet] = useState(\"\");\r\n    const [name, nameSet] = useState(\"\");\r\n    const nameEdit = async () => {\r\n        await axios.patch('/user/login');\r\n    }\r\n    const handleClick = async () => {\r\n        try {\r\n            console.log(\"/user/\" + user?.userDetails?._id);\r\n            const data = await axios.patch(\"/user/\" + user?.userDetails?._id, {\r\n               email,\r\n                name,\r\n                password,\r\n                confirmPassword: passwordCnf,\r\n                role: user.role,\r\n                _id:user._id\r\n            });\r\n            console.log(data.data.data);\r\n            localStorage.setItem(\"user\", JSON.stringify(data.data.data));\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    }\r\n    console.log(user);\r\n    return (\r\n        <div className=\"container-grey\">\r\n            <div className=\"form-container\">\r\n                <div className='h1Box'>\r\n                    <h1 className='h1'>Profile</h1>\r\n                    <div className=\"line\"></div>\r\n                    <div className=\"profileImage\">\r\n                        {<img src={user?.profileImage} /> }\r\n                    </div>\r\n                </div>\r\n                <div className=\"loginBox\">\r\n                    <div className=\"entryBox\">\r\n                        <input type=\"file\" />\r\n                    </div>\r\n                    <div className=\"entryBox\">\r\n                        <div className=\"entryText\">Email</div>\r\n                        <input className=\"email input\" type=\"email\" value={email} onChange={(e) => emailSet(e.target.value)} />\r\n                    </div>\r\n                    <div className=\"entryBox\">\r\n                        <div className=\"entryText\">Password</div>\r\n                        <input className=\"password input\" type=\"text\" value={password} onChange={(e) => passwordSet(e.target.value)} />\r\n                    </div>\r\n                    <div className=\"entryBox\">\r\n                        <div className=\"entryText\">Confirm Password</div>\r\n                        <input className=\"password input\" type=\"text\" value={passwordCnf} onChange={(e) => passwordCnfSet(e.target.value)} />\r\n                    </div>\r\n                    <div className=\"entryBox\">\r\n                        <div className=\"entryText\">Name</div>\r\n                        <input className=\"password input\" type=\"text\" value={name} onChange={(e) => nameSet(e.target.value)} />\r\n                    </div>\r\n                    <button className=\"loginBtn  form-button\" type=\"submit\" onClick={handleClick}>\r\n                        Update Profile\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Profile\r\n"],"mappings":"qfAAA,MAAOA,MAAP,EAAgBC,QAAhB,CAA2BC,SAA3B,CAAqCC,UAArC,KAAsD,OAAtD,CACA,MAAO,uBAAP,CACA,OAASC,OAAT,KAAwB,yBAAxB,CACA,MAAOC,MAAP,KAAkB,OAAlB,C,wFAEA,QAASC,QAAT,EAAmB,CAEf,aAAiBF,OAAO,EAAxB,CAAQG,IAAR,UAAQA,IAAR,CACA;AACAL,SAAS,sEAAC,mIACN;AACA;AACA;AACA;AACAM,OAAO,CAACC,GAAR,CAAYF,IAAZ,EACAG,OAAO,CAACH,IAAI,CAACI,IAAN,CAAP,CACAC,WAAW,CAACL,IAAI,CAACM,QAAN,CAAX,CACAC,QAAQ,CAACP,IAAI,CAACQ,KAAN,CAAR,CACAC,cAAc,CAACT,IAAI,CAACM,QAAN,CAAd,CACAL,OAAO,CAACC,GAAR,CAAY,MAAZ,CAAmBF,IAAnB,EAVM,sDAAD,GAWP,EAXO,CAAT,CAYA;AACA,cAAgCN,QAAQ,EAAxC,wCAAOY,QAAP,eAAiBD,WAAjB,eACA,eAAsCX,QAAQ,CAAC,EAAD,CAA9C,yCAAOgB,WAAP,eAAoBD,cAApB,eACA,eAA0Bf,QAAQ,CAAC,EAAD,CAAlC,yCAAOc,KAAP,eAAcD,QAAd,eACA,eAAwBb,QAAQ,CAAC,EAAD,CAAhC,yCAAOU,IAAP,eAAaD,OAAb,eACA,GAAMQ,SAAQ,2FAAG,+JACPb,MAAK,CAACc,KAAN,CAAY,aAAZ,CADO,yDAAH,kBAARD,SAAQ,2CAAd,CAGA,GAAME,YAAW,2FAAG,uMAEZZ,OAAO,CAACC,GAAR,CAAY,UAAWF,IAAX,SAAWA,IAAX,oCAAWA,IAAI,CAAEc,WAAjB,4CAAW,kBAAmBC,GAA9B,CAAZ,EAFY,uBAGOjB,MAAK,CAACc,KAAN,CAAY,UAAWZ,IAAX,SAAWA,IAAX,qCAAWA,IAAI,CAAEc,WAAjB,6CAAW,mBAAmBC,GAA9B,CAAZ,CAA+C,CAC/DP,KAAK,CAALA,KAD+D,CAE9DJ,IAAI,CAAJA,IAF8D,CAG9DE,QAAQ,CAARA,QAH8D,CAI9DU,eAAe,CAAEN,WAJ6C,CAK9DO,IAAI,CAAEjB,IAAI,CAACiB,IALmD,CAM9DF,GAAG,CAACf,IAAI,CAACe,GANqD,CAA/C,CAHP,QAGNG,IAHM,gBAWZjB,OAAO,CAACC,GAAR,CAAYgB,IAAI,CAACA,IAAL,CAAUA,IAAtB,EACAC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAA6BC,IAAI,CAACC,SAAL,CAAeJ,IAAI,CAACA,IAAL,CAAUA,IAAzB,CAA7B,EAZY,mFAcZjB,OAAO,CAACC,GAAR,eAdY,sEAAH,kBAAXW,YAAW,2CAAjB,CAiBAZ,OAAO,CAACC,GAAR,CAAYF,IAAZ,EACA,mBACI,YAAK,SAAS,CAAC,gBAAf,uBACI,aAAK,SAAS,CAAC,gBAAf,wBACI,aAAK,SAAS,CAAC,OAAf,wBACI,WAAI,SAAS,CAAC,IAAd,qBADJ,cAEI,YAAK,SAAS,CAAC,MAAf,EAFJ,cAGI,YAAK,SAAS,CAAC,cAAf,uBACK,YAAK,GAAG,CAAEA,IAAF,SAAEA,IAAF,iBAAEA,IAAI,CAAEuB,YAAhB,EADL,EAHJ,GADJ,cAQI,aAAK,SAAS,CAAC,UAAf,wBACI,YAAK,SAAS,CAAC,UAAf,uBACI,cAAO,IAAI,CAAC,MAAZ,EADJ,EADJ,cAII,aAAK,SAAS,CAAC,UAAf,wBACI,YAAK,SAAS,CAAC,WAAf,mBADJ,cAEI,cAAO,SAAS,CAAC,aAAjB,CAA+B,IAAI,CAAC,OAApC,CAA4C,KAAK,CAAEf,KAAnD,CAA0D,QAAQ,CAAE,kBAACgB,CAAD,QAAOjB,SAAQ,CAACiB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAf,EAApE,EAFJ,GAJJ,cAQI,aAAK,SAAS,CAAC,UAAf,wBACI,YAAK,SAAS,CAAC,WAAf,sBADJ,cAEI,cAAO,SAAS,CAAC,gBAAjB,CAAkC,IAAI,CAAC,MAAvC,CAA8C,KAAK,CAAEpB,QAArD,CAA+D,QAAQ,CAAE,kBAACkB,CAAD,QAAOnB,YAAW,CAACmB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAlB,EAAzE,EAFJ,GARJ,cAYI,aAAK,SAAS,CAAC,UAAf,wBACI,YAAK,SAAS,CAAC,WAAf,8BADJ,cAEI,cAAO,SAAS,CAAC,gBAAjB,CAAkC,IAAI,CAAC,MAAvC,CAA8C,KAAK,CAAEhB,WAArD,CAAkE,QAAQ,CAAE,kBAACc,CAAD,QAAOf,eAAc,CAACe,CAAC,CAACC,MAAF,CAASC,KAAV,CAArB,EAA5E,EAFJ,GAZJ,cAgBI,aAAK,SAAS,CAAC,UAAf,wBACI,YAAK,SAAS,CAAC,WAAf,kBADJ,cAEI,cAAO,SAAS,CAAC,gBAAjB,CAAkC,IAAI,CAAC,MAAvC,CAA8C,KAAK,CAAEtB,IAArD,CAA2D,QAAQ,CAAE,kBAACoB,CAAD,QAAOrB,QAAO,CAACqB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAd,EAArE,EAFJ,GAhBJ,cAoBI,eAAQ,SAAS,CAAC,uBAAlB,CAA0C,IAAI,CAAC,QAA/C,CAAwD,OAAO,CAAEb,WAAjE,4BApBJ,GARJ,GADJ,EADJ,CAqCH,CAED,cAAed,QAAf"},"metadata":{},"sourceType":"module"}